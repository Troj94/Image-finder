(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__8PWz6",Modal:"Modal_Modal__3BvfG",button:"Modal_button__3KUVk",close:"Modal_close__PpqfI"}},15:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__27tbW",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__FGgF5"}},25:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1iG4M"}},26:function(e,t,a){e.exports={Button:"Button_Button__3IU52"}},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(11),c=a.n(o),s=a(16),i=a(4),l=a(5),u=a(7),m=a(6),h=a(8),g=a(2),p=a.n(g),d=a(14),y=a.n(d);function b(e){var t=e.q,a=e.page,r=void 0===a?1:a;return y.a.get("https://pixabay.com/api/",{params:{q:t,page:r}}).then((function(e){return e.data.hits}))}y.a.defaults.params={key:"22595056-b708caf0e2fadc435a6a49bec",image_type:"photo",orientation:"horizontal",per_page:12},b.propTypes={q:p.a.string,page:p.a.number};var f=a(9),j=a.n(f),v=a(1),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={searchQuery:""},e.handleSearchQuerySubmit=function(t){t.preventDefault(),""===e.state.searchQuery.trim()?h.Notify.warning("Search field is empty"):e.props.onSubmit(e.state.searchQuery),e.setState({searchQuery:""})},e.handleSearchQueryChange=function(t){e.setState({searchQuery:t.currentTarget.value})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(v.jsx)("header",{className:j.a.Searchbar,children:Object(v.jsxs)("form",{className:j.a.SearchForm,onSubmit:this.handleSearchQuerySubmit,children:[Object(v.jsx)("button",{className:j.a.SearchFormButton,type:"submit",children:Object(v.jsx)("span",{className:j.a.SearchFormButtonLabel,children:"Search"})}),Object(v.jsx)("input",{className:j.a.SearchFormInput,name:"query",value:this.state.searchQuery,onChange:this.handleSearchQueryChange,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(r.Component),S=a(15),O=a.n(S);function _(e){var t=e.image,a=e.alt,r=e.largeImage;return Object(v.jsx)("li",{className:O.a.ImageGalleryItem,children:Object(v.jsx)("img",{className:O.a.ImageGalleryItemImage,src:t,alt:a,largeimage:r})})}var x=a(25),C=a.n(x);function F(e){var t=e.images,a=e.query,r=e.onClick;return Object(v.jsx)("ul",{className:C.a.ImageGallery,onClick:r,children:t.map((function(e){return Object(v.jsx)(_,{image:e.webformatURL,alt:a,largeImage:e.largeImageURL},e.id)}))})}var k=a(26),w=a.n(k);function N(e){var t=e.onClick;return Object(v.jsx)("button",{type:"button",className:w.a.Button,onClick:t,children:"Load more"})}var Q=a(27),G=a.n(Q);function M(){return Object(v.jsx)(G.a,{type:"ThreeDots",color:"#3f51b5",height:38,width:70})}var B=a(28),A=a(10),q=a.n(A),L=document.querySelector("#modal-root"),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={},e.closeEscape=function(t){"Escape"===t.code&&e.props.onClose(t)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.closeEscape)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeEscape)}},{key:"render",value:function(){return Object(o.createPortal)(Object(v.jsxs)("div",{className:q.a.Overlay,onClick:this.props.onClose,children:[Object(v.jsx)("button",{className:q.a.button,onClick:this.props.onClose,type:"button",children:Object(v.jsx)(B.a,{className:q.a.close,onClick:this.props.onClose})}),Object(v.jsx)("div",{className:q.a.Modal,children:Object(v.jsx)("img",{src:this.props.largeImage,alt:this.props.alt})})]}),L)}}]),a}(r.Component),E=(a(74),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={searchQuery:"",images:[],loaderIsActive:!1,modalIsActive:!1,largeImage:"",page:1},e.fetchImages=function(){var t=e.state,a={q:t.searchQuery,page:t.page};e.setState((function(e){return{page:e.page+1,loaderIsActive:!0}})),b(a).then((function(t){t.length>0?e.setState((function(e){return{images:[].concat(Object(s.a)(e.images),Object(s.a)(t))}})):h.Notify.failure("Can't find images for your querry")})).catch((function(){return h.Notify.failure("Something has gone wrong")})).finally((function(){return e.setState({loaderIsActive:!1})}))},e.updateQuery=function(t){e.state.searchQuery!==t?e.setState({searchQuery:t,page:1,images:[]}):h.Notify.warning("Images for your request have already been found")},e.scrollTo=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.openModal=function(t){var a=t.target.attributes.largeImage;"IMG"===t.target.nodeName&&e.setState({modalIsActive:!0,largeImage:a.value})},e.closeModal=function(t){t.target!==t.currentTarget&&"Escape"!==t.code||e.setState({modalIsActive:!1,largeImage:""})},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.searchQuery!==this.state.searchQuery&&this.fetchImages(),this.state.page>2&&this.scrollTo()}},{key:"render",value:function(){var e=this.state,t=e.searchQuery,a=e.images,r=e.loaderIsActive,n=e.modalIsActive,o=e.largeImage,c=a.length>0&&!r;return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(I,{onSubmit:this.updateQuery}),Object(v.jsx)(F,{images:this.state.images,query:this.state.searchQuery,onClick:this.openModal}),r&&Object(v.jsx)(M,{}),c&&Object(v.jsx)(N,{onClick:this.fetchImages}),n&&Object(v.jsx)(T,{largeImage:o,alt:t,onClose:this.closeModal})]})}}]),a}(r.Component)),U=E,D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,77)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),o(e),c(e)}))};a(75);c.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(U,{})}),document.getElementById("root")),D()},9:function(e,t,a){e.exports={Searchbar:"SearchForm_Searchbar__3CG_Z",SearchForm:"SearchForm_SearchForm__rHNTe",SearchFormButton:"SearchForm_SearchFormButton__2T59K",SearchFormButtonLabel:"SearchForm_SearchFormButtonLabel__371vG",SearchFormInput:"SearchForm_SearchFormInput__oL6I-"}}},[[76,1,2]]]);
//# sourceMappingURL=main.8483f9ea.chunk.js.map