{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/SearchForm/SearchForm.module.css","services/fetchImages.jsx","components/SearchForm/SearchForm.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","App.js","reportWebVitals.js","index.js","components/Modal/Modal.module.css"],"names":["module","exports","getImages","q","page","API","axios","get","then","res","data","hits","propTypes","PropTypes","string","number","SearchForm","onSubmit","useState","searchQuery","setSearchQuery","className","css","Searchbar","event","preventDefault","trim","Notify","warning","SearchFormButton","type","SearchFormButtonLabel","SearchFormInput","name","value","onChange","currentTarget","autoComplete","autoFocus","placeholder","ImageGalleryItem","image","alt","largeImage","ImageGalleryItemImage","src","largeimage","ImageGallery","images","query","onClick","map","webformatURL","largeImageURL","id","Button","Spinner","color","height","width","modalRoot","document","querySelector","Modal","onClose","closeEscape","code","useEffect","window","addEventListener","removeEventListener","createPortal","Overlay","button","close","App","setImages","loaderIsActive","setLoaderIsActive","modalIsActive","setModalIsActive","setLargeImage","setPage","length","prevImages","scrollTo","top","documentElement","scrollHeight","behavior","catch","failure","finally","fetchImages","showButtonLoadMore","target","attributes","nodeName","prevPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b8bc94e0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__27tbW\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__FGgF5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1iG4M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3IU52\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchForm_Searchbar__3CG_Z\",\"SearchForm\":\"SearchForm_SearchForm__rHNTe\",\"SearchFormButton\":\"SearchForm_SearchFormButton__2T59K\",\"SearchFormButtonLabel\":\"SearchForm_SearchFormButtonLabel__371vG\",\"SearchFormInput\":\"SearchForm_SearchFormInput__oL6I-\"};","import PropTypes from 'prop-types';\nimport axios from 'axios';\n\nconst API_URL = 'https://pixabay.com/api/';\nconst API_KEY = '22595056-b708caf0e2fadc435a6a49bec';\n\nexport function getImages({ q, page = 1 }) {\n  const API = `${API_URL}?q=${q}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  return axios.get(API).then(res => res.data.hits);\n}\n\ngetImages.propTypes = {\n  q: PropTypes.string,\n  page: PropTypes.number,\n};\n","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport { Notify } from 'notiflix';\nimport css from 'components/SearchForm/SearchForm.module.css';\n\nexport function SearchForm({ onSubmit }) {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  function handleSearchQuerySubmit(event) {\n    event.preventDefault();\n\n    searchQuery.trim() === ''\n      ? Notify.warning('Search field is empty')\n      : onSubmit(searchQuery);\n    setSearchQuery('');\n  }\n\n  function handleSearchQueryChange(event) {\n    setSearchQuery(event.currentTarget.value);\n  }\n\n  return (\n    <header className={css.Searchbar}>\n      <form className={css.SearchForm} onSubmit={handleSearchQuerySubmit}>\n        <button className={css.SearchFormButton} type=\"submit\">\n          <span className={css.SearchFormButtonLabel}>Search</span>\n        </button>\n        <input\n          className={css.SearchFormInput}\n          name=\"query\"\n          value={searchQuery}\n          onChange={handleSearchQueryChange}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  value: PropTypes.string,\n  onChange: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport css from 'components/ImageGalleryItem/ImageGalleryItem.module.css';\n\nexport function ImageGalleryItem({ image, alt, largeImage }) {\n  return (\n    <li className={css.ImageGalleryItem}>\n      <img\n        className={css.ImageGalleryItemImage}\n        src={image}\n        alt={alt}\n        largeimage={largeImage}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.string,\n  alt: PropTypes.string.isRequired,\n  largeImage: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { ImageGalleryItem } from 'components/ImageGalleryItem/ImageGalleryItem';\nimport css from 'components/ImageGallery/ImageGallery.module.css';\n\nexport function ImageGallery({ images, query, onClick }) {\n  return (\n    <ul className={css.ImageGallery} onClick={onClick}>\n      {images.map(image => (\n        <ImageGalleryItem\n          key={image.id}\n          image={image.webformatURL}\n          alt={query}\n          largeImage={image.largeImageURL}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  query: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport css from 'components/Button/Button.module.css';\n\nexport function Button({ onClick }) {\n  return (\n    <button type=\"button\" className={css.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import Loader from 'react-loader-spinner';\n\nexport function Spinner() {\n  return <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={38} width={70} />;\n}\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport { GrClose } from 'react-icons/gr';\nimport css from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport function Modal({ onClose, largeImage, alt }) {\n  useEffect(() => {\n    window.addEventListener('keydown', closeEscape);\n    return () => {\n      window.removeEventListener('keydown', closeEscape);\n    };\n  });\n\n  function closeEscape(event) {\n    if (event.code === 'Escape') {\n      onClose(event);\n    }\n  }\n\n  return createPortal(\n    <div className={css.Overlay} onClick={onClose}>\n      <button className={css.button} onClick={onClose} type={'button'}>\n        <GrClose className={css.close} onClick={onClose} />\n      </button>\n      <div className={css.Modal}>\n        <img src={largeImage} alt={alt} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  largeImage: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { Notify } from 'notiflix';\n\nimport { getImages } from 'services/fetchImages';\n\nimport { SearchForm } from 'components/SearchForm/SearchForm';\nimport { ImageGallery } from 'components/ImageGallery/ImageGallery';\nimport { Button } from 'components/Button/Button';\nimport { Spinner } from 'components/Loader/Loader';\nimport { Modal } from 'components/Modal/Modal';\n\nimport './App.css';\n\nfunction App() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [images, setImages] = useState([]);\n  const [loaderIsActive, setLoaderIsActive] = useState(false);\n  const [modalIsActive, setModalIsActive] = useState(false);\n  const [largeImage, setLargeImage] = useState('');\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    function fetchImages() {\n      const q = searchQuery;\n\n      if (q.trim() === '') {\n        return;\n      }\n\n      setLoaderIsActive(true);\n\n      getImages({ q, page })\n        .then(images => {\n          if (images.length > 0) {\n            setImages(prevImages => [...prevImages, ...images]);\n            scrollTo();\n          }\n        })\n        .catch(() => Notify.failure(\"Can't find images for your query\"))\n        .finally(() => setLoaderIsActive(false));\n    }\n\n    fetchImages();\n  }, [searchQuery, page]);\n\n  const nextPage = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  function updateQuery(query) {\n    if (searchQuery === query) {\n      Notify.warning('Images for your request have already been found');\n      return;\n    } else {\n      setSearchQuery(query);\n      setPage(1);\n      setImages([]);\n    }\n  }\n\n  function scrollTo() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  function openModal(event) {\n    const { largeImage } = event.target.attributes;\n\n    if (event.target.nodeName === 'IMG') {\n      setModalIsActive(true);\n      setLargeImage(largeImage.value);\n    }\n  }\n\n  function closeModal(event) {\n    if (event.target === event.currentTarget || event.code === 'Escape') {\n      setModalIsActive(false);\n      setLargeImage('');\n    }\n  }\n\n  const showButtonLoadMore = images.length > 0 && !loaderIsActive;\n\n  return (\n    <div className=\"App\">\n      <SearchForm onSubmit={updateQuery} />\n      <ImageGallery images={images} query={searchQuery} onClick={openModal} />\n      {loaderIsActive && <Spinner />}\n      {showButtonLoadMore && <Button onClick={nextPage} />}\n      {modalIsActive && (\n        <Modal largeImage={largeImage} alt={searchQuery} onClose={closeModal} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__8PWz6\",\"Modal\":\"Modal_Modal__3BvfG\",\"button\":\"Modal_button__3KUVk\",\"close\":\"Modal_close__PpqfI\"};"],"sourceRoot":""}