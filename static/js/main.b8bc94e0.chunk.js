(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__27tbW",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__FGgF5"}},24:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1iG4M"}},25:function(e,t,a){e.exports={Button:"Button_Button__3IU52"}},5:function(e,t,a){e.exports={Searchbar:"SearchForm_Searchbar__3CG_Z",SearchForm:"SearchForm_SearchForm__rHNTe",SearchFormButton:"SearchForm_SearchFormButton__2T59K",SearchFormButtonLabel:"SearchForm_SearchFormButtonLabel__371vG",SearchFormInput:"SearchForm_SearchFormInput__oL6I-"}},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=a(14),l=a(4),u=a(7),s=a(2),m=a.n(s),b=a(23),g=a.n(b);function j(e){var t=e.q,a=e.page,n=void 0===a?1:a,r="".concat("https://pixabay.com/api/","?q=").concat(t,"&page=").concat(n,"&key=").concat("22595056-b708caf0e2fadc435a6a49bec","&image_type=photo&orientation=horizontal&per_page=12");return g.a.get(r).then((function(e){return e.data.hits}))}j.propTypes={q:m.a.string,page:m.a.number};var h=a(5),f=a.n(h),d=a(1);function p(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(l.a)(a,2),c=r[0],o=r[1];return Object(d.jsx)("header",{className:f.a.Searchbar,children:Object(d.jsxs)("form",{className:f.a.SearchForm,onSubmit:function(e){e.preventDefault(),""===c.trim()?u.Notify.warning("Search field is empty"):t(c),o("")},children:[Object(d.jsx)("button",{className:f.a.SearchFormButton,type:"submit",children:Object(d.jsx)("span",{className:f.a.SearchFormButtonLabel,children:"Search"})}),Object(d.jsx)("input",{className:f.a.SearchFormInput,name:"query",value:c,onChange:function(e){o(e.currentTarget.value)},type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var O=a(13),_=a.n(O);function y(e){var t=e.image,a=e.alt,n=e.largeImage;return Object(d.jsx)("li",{className:_.a.ImageGalleryItem,children:Object(d.jsx)("img",{className:_.a.ImageGalleryItemImage,src:t,alt:a,largeimage:n})})}var I=a(24),v=a.n(I);function S(e){var t=e.images,a=e.query,n=e.onClick;return Object(d.jsx)("ul",{className:v.a.ImageGallery,onClick:n,children:t.map((function(e){return Object(d.jsx)(y,{image:e.webformatURL,alt:a,largeImage:e.largeImageURL},e.id)}))})}var x=a(25),F=a.n(x);function N(e){var t=e.onClick;return Object(d.jsx)("button",{type:"button",className:F.a.Button,onClick:t,children:"Load more"})}var C=a(26),G=a.n(C);function k(){return Object(d.jsx)(G.a,{type:"ThreeDots",color:"#3f51b5",height:38,width:70})}var w=a(27),B=a(8),q=a.n(B),L=document.querySelector("#modal-root");function M(e){var t=e.onClose,a=e.largeImage,r=e.alt;function o(e){"Escape"===e.code&&t(e)}return Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}})),Object(c.createPortal)(Object(d.jsxs)("div",{className:q.a.Overlay,onClick:t,children:[Object(d.jsx)("button",{className:q.a.button,onClick:t,type:"button",children:Object(d.jsx)(w.a,{className:q.a.close,onClick:t})}),Object(d.jsx)("div",{className:q.a.Modal,children:Object(d.jsx)("img",{src:a,alt:r})})]}),L)}a(73);var T=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(l.a)(c,2),s=o[0],m=o[1],b=Object(n.useState)(!1),g=Object(l.a)(b,2),h=g[0],f=g[1],O=Object(n.useState)(!1),_=Object(l.a)(O,2),y=_[0],I=_[1],v=Object(n.useState)(""),x=Object(l.a)(v,2),F=x[0],C=x[1],G=Object(n.useState)(1),w=Object(l.a)(G,2),B=w[0],q=w[1];Object(n.useEffect)((function(){!function(){var e=a;""!==e.trim()&&(f(!0),j({q:e,page:B}).then((function(e){e.length>0&&(m((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))})).catch((function(){return u.Notify.failure("Can't find images for your query")})).finally((function(){return f(!1)})))}()}),[a,B]);var L=s.length>0&&!h;return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(p,{onSubmit:function(e){a!==e?(r(e),q(1),m([])):u.Notify.warning("Images for your request have already been found")}}),Object(d.jsx)(S,{images:s,query:a,onClick:function(e){var t=e.target.attributes.largeImage;"IMG"===e.target.nodeName&&(I(!0),C(t.value))}}),h&&Object(d.jsx)(k,{}),L&&Object(d.jsx)(N,{onClick:function(){q((function(e){return e+1}))}}),y&&Object(d.jsx)(M,{largeImage:F,alt:a,onClose:function(e){e.target!==e.currentTarget&&"Escape"!==e.code||(I(!1),C(""))}})]})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,76)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};a(74);o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(T,{})}),document.getElementById("root")),E()},8:function(e,t,a){e.exports={Overlay:"Modal_Overlay__8PWz6",Modal:"Modal_Modal__3BvfG",button:"Modal_button__3KUVk",close:"Modal_close__PpqfI"}}},[[75,1,2]]]);
//# sourceMappingURL=main.b8bc94e0.chunk.js.map